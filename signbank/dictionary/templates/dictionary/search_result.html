{% extends "baselayout.html" %}

{% block content %}
 
    {# if we have no search term, include a bit of prompt text and the letter list #}
    {% ifequal query '' %}
    
    <p>Welcome to the Sign Search section of the Auslan SignBank. Here
     you can search for a sign using an English keyword in the search box
     above, or browse keywords starting with any letter below.</p>	
    
    <p>
      {% for letter in "ABCDEFGHIJKLMNOPQRSTUVWXYZ" %}
        <a href="{% url root_page %}{{version}}/search?query={{letter}}{% ifequal version "medical"%}&msb=1{% endifequal %}">{{letter}}</a> | 
      {% endfor %}
    </p>
    
    {% if user.is_staff %}
    <ul>
     <li>View signs <a href="{% url root_page %}{{version}}/tag/">according to their tags</a></li>
     <li>Export <a href="{% url root_page %}{{version}}/export.csv">dictionary as CSV</a></li>
    </ul>
    {% endif %}
    
    
    
    {% else %}
      <p>
        {% ifequal wordcount 0 %}
            There is no exact match to the word you typed. You might increase your 
            chances of a match by only typing the first few letters of a word 
            and then selecting from the matches, or by only typing singular forms for nouns 
            (e.g. with no final 's') or plain form for verbs (e.g. with 
            no grammatical endings like 'ing', 'ed', or 's').
        {% else %}
         {% ifequal wordcount 1 %}
            There is one word that fully or partially match your query. Please select the word below.        
         {% else %}
           There are {{ wordcount }} words that fully or partially match your query. Please select a word from the list below.
         {% endifequal %}
        {% endifequal %}
      </p>
        
        {% if user.is_staff %}
        <p>Items marked * below are not in the web version of the dictionary and would not
        appear in a regular (non staff) search.</p>
        {% ifequal version "medical" %}
        <p>In this medical sign bank search, signs are only shown where they are marked
        as "Problematic Medical Signs".  For a view of all health related signs, please logout.</p>
        {% endifequal %}
        {% endif %}
        
      <div id="searchresults">
         <table width="90%">
            <tr>
               <td valign="top">
          {% for word in page.object_list %}
            <p>
              <a href="{% url root_page %}{{version}}/words/{{ word.text }}-1.html">{{ word.text }}</a>
              {% if not word.inWeb %}*{% endif %}  
            </p>

            {% if forloop.counter|divisibleby:"10" %}
            </td> 
            <td valign="top">
            {% endif %}
            
          {% endfor %}
           </td>
          </tr>
         </table>
   
          {% if page.has_next or page.has_previous %} 
          <p>Jump to results page: 
          {% for p in paginator.page_range %}
             {% ifequal p page.number %}
             <strong>{% ifequal p 0 %}Start{% else %}{{p}}{% endifequal %}</strong>
             {% else %}
             <a href='?query={{query}}&page={{p}}{% ifequal version "medical" %}&msb=1{% endifequal %}'>{% ifequal p 0 %}Start{% else %}{{p}}{% endifequal %}</a>
             {% endifequal %}
          {% endfor %}
          </p>

          {% endif %}

    {% endifequal %}
{% endblock %}




