{% extends "baselayout.html" %}

{% block extrahead %}
{% endblock %}

{% block extrajs %}

    <script type="text/javascript" src="{{ STATIC_URL }}js/typeahead.bundle.min.js"></script>
    
    <script type='text/javascript'>
    
    
    $(document).ready(function(){
   
        
    });
    
// http://www.javascript-coder.com/javascript-form/javascript-reset-form.phtml
function clearForm(myFormElement) {

  var elements = myFormElement.elements;

  myFormElement.reset();

  for(i=0; i<elements.length; i++) {

      field_type = elements[i].type.toLowerCase();
    
      switch(field_type) {
    
        case "text":
        case "password":
        case "textarea":
              case "hidden":
    
          elements[i].value = "";
          break;
    
        case "radio":
        case "checkbox":
            if (elements[i].checked) {
              elements[i].checked = false;
          }
          break;
    
        case "select-one":
        case "select-multi":
                    elements[i].selectedIndex = -1;
          break;
    
        default:
          break;
      }
    }
    return(false);
}
   </script>
{% endblock %}


{% block content %}


<form name='adminsearch' id='adminsearch'>
    <table class='table'>
        <tr>
            <td><label for='id_idgloss'>{{searchform.search.label}}</label>{{searchform.search}}</td>
            <td><label for='id_tags'>Tagged</label>
               <div> {{searchform.tags}}</div>
                </td>
            <td><label for='id_nottags'>Not Tagged</label>{{searchform.nottags}}</td>
        </tr>
        <tr id='searchpanels'>
            <td>
                <table>
                    <tr><td><label for='id_dialect'>{{searchform.dialect.label}}</label></td><td>{{searchform.dialect}}</td></tr>
                    <tr><td><label for='id_language'>{{searchform.language.label}}</label></td><td>{{searchform.language}}</td></tr>
                </table>
            </td>
            <td>
                <table>
                    <tr><td><label for='id_inWeb'>{{searchform.inWeb.label}}</label></td><td>{{searchform.inWeb}}</td></tr>
                    <tr><td>&nbsp;</td></tr>
                    <tr><td><label for='id_initial_relative_orientation'>{{searchform.initial_relative_orientation.label}}</label></td><td>{{searchform.initial_relative_orientation}}</td></tr>
                    <tr><td><label for='id_final_relative_orientation'>{{searchform.final_relative_orientation.label}}</label></td><td>{{searchform.final_relative_orientation}}</td></tr>
                    <tr><td><label for='id_initial_palm_orientation'>{{searchform.initial_palm_orientation.label}}</label></td><td>{{searchform.initial_palm_orientation}}</td></tr>
                    <tr><td><label for='id_final_palm_orientation'>{{searchform.final_palm_orientation.label}}</label></td><td>{{searchform.final_palm_orientation}}</td></tr>
                    <tr><td><label for='id_initial_secondary_loc'>{{searchform.initial_secondary_loc.label}}</label></td><td>{{searchform.initial_secondary_loc}}</td></tr>
                    <tr><td><label for='id_final_secondary_loc'>{{searchform.final_secondary_loc.label}}</label></td><td>{{searchform.final_secondary_loc}}</td></tr>
                </table>
            </td>
            <td>
            <table>
                    <tr><td><label for='id_domhndsh'>{{searchform.domhndsh.label}}</label></td><td>{{searchform.domhndsh}}</td></tr>
                    <tr><td><label for='id_subhndsh'>{{searchform.subhndsh.label}}</label></td><td>{{searchform.subhndsh}}</td></tr>
                    <tr><td><label for='id_locprim'>{{searchform.locprim.label}}</label></td><td>{{searchform.locprim}}</td></tr>
                    <tr><td><label for='id_locsecond'>{{searchform.locsecond.label}}</label></td><td>{{searchform.locsecond}}</td></tr>
                    <tr><td><label for='id_final_domhndsh'>{{searchform.final_domhndsh.label}}</label></td><td>{{searchform.final_domhndsh}}</td></tr>
                    <tr><td><label for='id_final_subhndsh'>{{searchform.final_subhndsh.label}}</label></td><td>{{searchform.final_subhndsh}}</td></tr>
                    <tr><td><label for='id_final_loc'>{{searchform.final_loc.label}}</label></td><td>{{searchform.final_loc}}</td></tr>
                </table>
            </td>
        </tr>
        
    </table>
    <input class='btn' type='submit' name='submit' value='Search'>
    <button class='btn' onclick="clearForm(document.adminsearch);">Reset</button>
</form>

<p>Number of matches: {{page_obj.paginator.count}} out of {{glosscount}}.</p>

<table class='table'>
    <thead>
      <tr>
        <th>SN</th>
        <th>Annotation IDGLOSS</th>
        <th>IDGLOSS</th>
        <th>Morphology</th>
        <th>Tags</th> 
      </tr>
    </thead>
    <tbody>
    {% for gloss in object_list %}
        <tr>
            <td><a href="/dictionary/gloss/{{gloss.pk}}/">{{gloss.sn}}</a></td>
            <td>{{gloss.annotation_idgloss}} {% if not gloss.inWeb %}*{% endif %}</td>
            <td>{{gloss.idgloss}}</td>
            <td>{{gloss.morph}}</td>
            <td>{% for tag in gloss.tags %}<span class='badge'>{{tag}}</span> {% endfor %}</td>
            
        </tr>
    {% empty %}
        <tr><td>No Glosses</td></tr>
    {% endfor %}
  </tbody>
</table>

<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}{% for key,value in request.GET.items %}{% ifnotequal key 'page' %}&{{ key }}={{ value }}{% endifnotequal %}{% endfor %}">&lt;&lt;previous</a>

            
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}{% for key,value in request.GET.items %}{% ifnotequal key 'page' %}&{{ key }}={{ value }}{% endifnotequal %}{% endfor %}">next>></a>


        {% endif %}
    </span>
</div>


{% endblock content %}
